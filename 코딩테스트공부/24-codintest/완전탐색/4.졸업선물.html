<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function solution(m, product){
            let maxcount = 0;
            for(let i =0; i < product.length; i++){
                let parr = product.sort((a,b)=>(b[0]+b[1])-(a[0]+a[1]));
                let count = parr.length;
                let curr = (parr[i][0]/2);
                let sum = parr.reduce((total, el)=>total+el[0]+el[1],0)-parr[i][0]+curr;
                for(let j =0; j <parr.length; j++){
                    if(i == j) continue;
                    if(sum <= m)break;
                    sum -= (parr[j][0]+parr[j][1]);
                    count--;
                }
                maxcount = Math.max(maxcount,count);
            }
            return maxcount;
        }
        
        let arr=[[6, 6], [2, 2], [4, 3], [4, 5], [10, 3]];
        
        console.log(solution(28, arr));
        console.log(solution(596, [[57, 3], [85, 3], [61, 3], [98, 3], [85, 4], [47, 3], [42, 4], [95, 3], [85, 3], [82, 3], [41, 4], [64, 4], [36, 4], [100, 4], [66, 3]]));
    </script>
</body>
</html>